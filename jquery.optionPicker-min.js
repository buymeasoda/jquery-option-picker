(function(e){function t(t,n){this.settings=n;this.selectElement=e(t);this.optionElements=e("option",this.selectElement);this.selectSize=this.optionElements.length;this.settings&&this.selectElement&&this.selectSize>0&&this.init()}e.extend(t.prototype,{init:function(){this.nodes={};e.each(["container","increment","value","decrement"],e.proxy(function(t,n){this.nodes[n]=e(this.settings[n+"HTML"]);this.nodes[n].addClass(this.settings.cssClass+"-"+n);n!=="container"&&this.nodes.container.append(this.nodes[n])},this));this.selectElement.on("change",e.proxy(this.update,this));this.nodes.increment.on("click",e.proxy(this.increment,this));this.nodes.decrement.on("click",e.proxy(this.decrement,this));this.set(this.selectElement.prop("selectedIndex"));this.selectElement.hide().after(this.nodes.container)},set:function(e){if(e>=0&&e<this.selectSize){this.selectElement.prop("selectedIndex",e);this.nodes.decrement.toggleClass(this.settings.cssClass+"-disabled",e===0);this.nodes.increment.toggleClass(this.settings.cssClass+"-disabled",e===this.selectSize-1);this.nodes.value.text(this.optionElements.eq(e).text())}},increment:function(){this.set(this.selectElement.prop("selectedIndex")+1)},decrement:function(){this.set(this.selectElement.prop("selectedIndex")-1)}});e.fn.optionPicker=function(n){var r=e.extend({},e.fn.optionPicker.defaults,n);return this.each(function(){e.data(this,"sodaOptionPicker")||e.data(this,"sodaOptionPicker",new t(this,r))})};e.fn.optionPicker.defaults={cssClass:"option-picker",containerHTML:"<div></div>",incrementHTML:"<div>+</div>",decrementHTML:"<div>-</div>",valueHTML:"<div></div>"}})(jQuery);